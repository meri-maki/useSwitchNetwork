"use strict";(this.myApptooncoinweb=this.myApptooncoinweb||[]).push([[211],{6211:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var c=t(7294),a=(t(7369),t(6684));var s=t(9823),l=t(9458);const o=()=>{const e=document.getElementById("mintID");if(!e)return void console.error("Element not found.");const n=e.getBoundingClientRect().top+window.scrollY-100;window.scroll({top:n,behavior:"smooth"})};var r=t(5504),i=t(6738),m=t(9279),d=t(3935);const u=e=>{const{children:n,element:t=document.body}=e;return(0,d.createPortal)(n,t)},E=e=>{const{className:n,children:t,isOpen:a,onClose:s}=e,[l,o]=(0,c.useState)(!1),r=(0,c.useRef)(),d=(0,c.useCallback)((()=>{s&&(o(!0),r.current=setTimeout((()=>{s(),o(!1)}),500))}),[s]),E=(0,c.useCallback)((e=>{"Escape"===e.key&&d()}),[d]);(0,c.useEffect)((()=>(a&&window.addEventListener("keydown",E),()=>{clearTimeout(r.current),window.removeEventListener("keydown",E)})),[a,E]);const b={opened_nVT7f:a,isClosing_yxb0f:l};return c.createElement(u,null,c.createElement("div",{className:(0,i.A)("Modal_PrB8u",b,[n])},c.createElement("div",{className:"overlay_tiKQa",onClick:d},c.createElement("div",{className:"wrapper_mZUnd"},c.createElement("img",{src:m.Z,className:"cross_hcMEx",onClick:d}),c.createElement("div",{className:"content_UJhFK",onClick:e=>{e.stopPropagation()}},t)))))},b={ConnectModal:"ConnectModal_aAckh",cardsBlock:"cardsBlock_Z9oKn"},h=t.p+"b4e71f6375ce977be59ea6375a1b58a1.svg",f=t.p+"11807d8a0741d067a70df57ef02c0dd6.svg";var g=t(8063),p=t(3531),C=t(2714);function w(e){const{open:n}=(0,s.k_)(),{connector:t,onClose:a}=e;return c.createElement(c.Fragment,null,"mm"==t?c.createElement(l.Z,{link:!0,href:p.yX.metamask,modal:!0,onClick:()=>(0,g.j)(g.iN.connectModal,{connector:"MetaMask"})},c.createElement("img",{src:h,width:"80",height:"80","data-img":!0}),c.createElement("h4",null,"MetaMask"),c.createElement("p",null,"Connect to your MetaMask Wallet"),c.createElement(C.Z,{arrow:!0},"Connect")):c.createElement(l.Z,{modal:!0,onClick:()=>{(0,g.j)(g.iN.connectModal,{connector:"WalletConnect"}),a(),n()}},c.createElement("img",{src:f,width:"80",height:"80","data-img":!0}),c.createElement("h4",null,"WalletConnect"),c.createElement("p",null,"Use WalletConnect to connect"),c.createElement(C.Z,{arrow:!0,className:b.link},"Connect")))}const v=e=>{const{isOpen:n,onClose:t}=e;return c.createElement(E,{className:b.ConnectModal,isOpen:n,onClose:t},c.createElement("h3",null,"Choose one"),c.createElement("div",{className:b.cardsBlock},c.createElement(w,{connector:"mm"}),c.createElement(w,{onClose:t,connector:"wc"})))};var N=t(2994);const k=t.p+"c28fccd806f03a30bf4e27e9caca8e23.webp",y=t.p+"bc30d57d61d58ad0bba4440c21791ddc.svg";function A(){return{connectSuccess:(0,c.useCallback)((()=>{N.Am.success(p.gR,{icon:()=>c.createElement("img",{src:k,className:"toastIcon"})})}),[]),mintError:(0,c.useCallback)((e=>{N.Am.error(e,{icon:()=>c.createElement("img",{src:y,className:"toastIcon"}),toastId:"error"})}),[]),chainSwitch:(0,c.useCallback)((e=>{const n=function(e){switch(e.id){case 1:return"./assets/UI/icons/1.webp";case 56:return"./assets/UI/icons/56.webp";case 137:return"./assets/UI/icons/137.webp";case 42161:return"./assets/UI/icons/42161.webp";default:return"./assets/UI/icons/default.webp"}}(e);N.Am.success((()=>c.createElement(c.Fragment,null,"You are successfully connected to ",c.createElement("b",null,e.name))),{icon:()=>c.createElement("img",{src:n,className:"toastIcon"}),toastId:e.name})}),[]),dismissAll:()=>N.Am.dismiss()}}function M(e){let{header:n}=e;const{dismissAll:t}=A();return c.createElement("div",{className:n?"disabledChild":"",onClick:()=>{n&&o()}},c.createElement("w3m-account-button",{balance:!1,onClick:()=>{t()}}))}function _(){const{dismissAll:e}=A();return c.createElement("w3m-network-button",{onClick:()=>e()})}function j(e){const{action:n,connect:t,header:o,chain:i}=e,{open:m}=(0,s.k_)(),{isConnected:d}=(0,a.mA)(),u=r.Z.isMetaMask,E=r.Z.isMobile,[b,h]=(0,c.useState)(!1),f=(0,c.useCallback)((()=>{h(!1),(0,g.j)(g.iN.closeModal)}),[]);return c.createElement(c.Fragment,null,d?c.createElement(c.Fragment,null,u&&!1===o&&r.d.includes(i.id)&&c.createElement(_,null),!u&&!1===o&&r.d.includes(i.id)&&c.createElement(_,null),c.createElement(M,{header:o})):c.createElement(c.Fragment,null,c.createElement(l.Z,{headerBtn:o,pink:!0,connect:t,onClick:()=>{n&&n(),E&&!u?h(!0):m()}},"Connect Wallet",c.createElement("div",{className:"sh"})),b&&c.createElement(v,{isOpen:b,onClose:f})))}const B=t.p+"7cc8666e0f5e0b64c953b42c3a1b284d.webp",F=t.p+"fc1ea6cc1bd27e7e3b1babdd24b66f19.webp",S=t.p+"a65305de9ebb7e931838c461d30c8572.webp",Z=t.p+"8ff9fa8ace06a3e39f946643dbb00eaa.webp",I=t.p+"5bd2b4ffa02a554acd9e88bf8ed7c4d3.webp",T=e=>{const{isOpen:n,onClose:t}=e;return c.createElement(E,{className:"MintSuccess_jyNLr",isOpen:n,onClose:t},c.createElement("h3",null,"Congratulations!",c.createElement("br",null)," You're In!"),c.createElement("div",{className:"imagesBlock_ZejTZ"},c.createElement("img",{alt:"icon",src:F,width:"35",height:"auto",className:"blue_oIReb","data-absolute":!0}),c.createElement("img",{alt:"icon",src:I,width:"39",height:"auto",className:"purple_ldA5G","data-absolute":!0}),c.createElement("img",{alt:"icon",src:Z,width:"40",height:"auto",className:"desk_JNXEw","data-absolute":!0}),c.createElement("img",{alt:"icon",src:B,className:"card_cCYMR",width:"320",height:"auto"}),c.createElement("img",{alt:"icon",src:S,width:"21",height:"auto",className:"small_IGcKz","data-absolute":!0})),c.createElement("h5",null,"You've just secured your ",c.createElement("b",null,"ToON Pass"),", marking you as an early member of our digital frontier. Dive into our exclusive community created just for early adopters like you."),c.createElement(l.Z,{link:!0,href:p.yX.discord,onClick:()=>(0,g.j)(g.iN.discordCom)},"Join the Exclusive Circle Now"))};var O=t(1374);const x=()=>{const{open:e}=(0,s.k_)(),{dismissAll:n}=A();return c.createElement(c.Fragment,null,c.createElement("h6",null,"Our NFTs are ",c.createElement("b",null,"not yet available on this blockchain"),". Please switch your wallet to one of the ",c.createElement("b",null,"supported chains"),"."),c.createElement(l.Z,{onClick:()=>{n(),e({view:"Networks"})},mint:!0},c.createElement("div",{className:"sh"}),"Switch Chain"))},D=e=>{const{isLoading:n,write:t,chain:a}=e;return c.createElement(c.Fragment,null,r.d.includes(a.id)?c.createElement(l.Z,{disabled:n,onClick:()=>{(0,g.j)(g.iN.mintNFT),t(),console.log("write")},mint:!0},c.createElement("div",{className:"sh"}),n?"Minting...":"Mint ToON Pass"):c.createElement(x,{chain:a}))},U={Sepolia:"0x42Fbf87Cd983c0F0BCdfF2d8A5904CD4968cD76F",Ethereum:"0x49cC7de889C1e4bDc1b4156B882cA5c76C668987",Polygon:"0xA42ccA468fd07491824Ab121CB559f1B3791e92C","Arbitrum One":"0x6f2C97dB74D4d3E8A31e628325A39bbef928dd59","BNB Smart Chain":"0xFA17c9e4f5Ec1A62d032731fE0a9529D7B851BE6"},P=e=>{const{className:n}=e,[t,s]=(0,c.useState)(),l=r.Z.isMobile,o=r.Z.isMetaMask,{dismissAll:i,mintError:m,chainSwitch:d,connectSuccess:u}=A(),{connect:E}=(0,a.$4)({connector:new O._,onError(e){console.log("Error",e),(0,g.j)(g.iN.walletError,{error:e.message})}}),{isConnected:b,address:h}=(0,a.mA)({onConnect(e){let{address:n,connector:t,isReconnected:c}=e;u(),(0,g.j)(g.iN.walletSuccess,{account:n,connector:t.name,isReconnected:c,chain:w.name}),s(w.name),v()},onDisconnect(){i()}});(0,c.useEffect)((()=>{b||l&&o&&E()}),[]);const[f,C]=(0,c.useState)(!1),{chain:w}=(0,a.LN)();(0,c.useEffect)((()=>{b||i()}),[b]),(0,a.KQ)({address:h,onSuccess(e){(0,g.j)(g.iN.walletSuccessBalance,{balance:"".concat(e.formatted," ").concat(e.symbol),currency:e.symbol})}});const{refetch:v,config:N}=(0,a.PJ)({address:b?U[w.name]:"0x0",abi:[{name:"mint",type:"function",stateMutability:"payable",inputs:[{internalType:"uint256",name:"_mintAmount",type:"uint256"}],outputs:[]}],args:["1"],functionName:"mint"}),{error:k,isError:y,write:M,data:_}=(0,a.GG)(N),{isLoading:B,isSuccess:F,error:S,isError:Z}=(0,a.BX)({hash:null==_?void 0:_.hash,onSuccess(e){console.log("SuccessTrans",e),(0,g.j)(g.iN.mintSuccess,{blockHash:e.blockHash,transHash:e.transactionHash,NFTcontract:e.to}),x()},onError(e){(0,g.j)(g.iN.mintError,{error:e.message})}});(0,c.useEffect)((()=>{b&&w&&(r.d.includes(w.id)?((0,g.j)(g.iN.chain,{chain:w}),d(w),v()):(console.log(w.name),console.log("unsupported")))}),[w,d,t,b,v]);const I=(0,c.useCallback)((()=>{C(!1)}),[]),x=(0,c.useCallback)((()=>{i(),C(!0)}),[]);return(0,c.useEffect)((()=>{var e,n,t,c,a,s;if(y||Z)if(null!==(e=k||S)&&void 0!==e&&e.message.includes("cancelled")||null!==(n=k||S)&&void 0!==n&&n.message.includes("canceled")||null!==(t=k||S)&&void 0!==t&&t.message.includes("rejected")||4001===(null==k?void 0:k.code))m(p.mJ[4001]),(0,g.j)(g.iN.mintError,{error:null===(s=k||S)||void 0===s?void 0:s.message,type:"cancelled"});else if(null!==(c=k||S)&&void 0!==c&&c.message.includes("funds")||-3200===(null==k?void 0:k.code)){var l;m(p.mJ[3200]),(0,g.j)(g.iN.mintError,{error:null===(l=k||S)||void 0===l?void 0:l.message,type:"insufficient funds"})}else if(null!==(a=k||S)&&void 0!==a&&a.message){var o;m(p.mJ.general),(0,g.j)(g.iN.mintError,{error:null===(o=k||S)||void 0===o?void 0:o.message,type:"other"})}}),[k,y,Z,S]),c.createElement("div",{className:"".concat(n||""," ").concat("MintNFT_ZB5Uw"," ")},c.createElement("div",{className:"".concat("buttonsBlock_v7Vo_"," ").concat(B?"disabled":"")},c.createElement("div",{className:b?"connected_pjFXv":"disconnected_GvvnD",id:"mintID"},c.createElement(j,{chain:w,connect:!0,header:!1,action:()=>{(0,g.j)(g.iN.walletMint)}})),b&&c.createElement(D,{isLoading:B,write:M,chain:w})),b&&c.createElement(c.Fragment,null,f&&c.createElement(T,{isOpen:f,onClose:I})))}}}]);
//# sourceMappingURL=211.ef432e41.js.map